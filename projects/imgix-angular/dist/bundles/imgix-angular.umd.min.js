!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("imgix-core-js")):"function"==typeof define&&define.amd?define("@imgix/angular",["exports","@angular/core","imgix-core-js"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).imgix=t.imgix||{},t.imgix.angular={}),t.ng.core,t["imgix-core-js"])}(this,(function(t,e,i){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=r(i),a=new e.InjectionToken("ImgixConfig");function s(t){var e=new n.default({domain:t.domain,includeLibraryParam:!1});return!1!==t.includeLibraryParam&&(e.settings.libraryParam="ng-1.0.0-rc.1"),e}function o(t){return null!=t&&""+t!="false"}function u(t){if("string"==typeof t){var e=Number.parseFloat(t);if(!Number.isNaN(e))return e}else if("number"==typeof t&&!Number.isNaN(t))return t}var l=function(){function t(t,e){this.config=t,this.elementRef=e,this._fixed=!1,this._disableVariableQuality=!1,this.client=s(this.config)}return Object.defineProperty(t.prototype,"fixed",{get:function(){return this._fixed},set:function(t){this._fixed=o(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=u(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=u(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disableVariableQuality",{get:function(){return this._disableVariableQuality},set:function(t){this._disableVariableQuality=o(t)},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewChecked=function(){this.setSrcAndSrcsetAttributes(),this.setOtherAttributes()},t.prototype.setOtherAttributes=function(){var t=this.elementRef.nativeElement;null!=this.width&&t.setAttribute("width",String(this.width)),null!=this.height&&t.setAttribute("height",String(this.height))},t.prototype.buildIxParams=function(){var t=Object.assign({},this.fixed&&Object.assign(Object.assign({},null!=this.width?{w:this.width}:{}),null!=this.height?{h:this.height}:{}));return Object.assign(Object.assign(Object.assign({},this.config.defaultImgixParams),t),this.imgixParams)},t.prototype.setSrcAndSrcsetAttributes=function(){var t,e,i,r,n=this.elementRef.nativeElement;n.setAttribute(null!==(e=null===(t=this.attributeConfig)||void 0===t?void 0:t.src)&&void 0!==e?e:"src",this.srcURL),n.setAttribute(null!==(r=null===(i=this.attributeConfig)||void 0===i?void 0:i.srcset)&&void 0!==r?r:"srcset",this.srcsetURL)},Object.defineProperty(t.prototype,"srcURL",{get:function(){return this.client.buildURL(this.path,this.buildIxParams())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"srcsetURL",{get:function(){return this.client.buildSrcSet(this.path,this.buildIxParams(),{disableVariableQuality:this.disableVariableQuality})},enumerable:!1,configurable:!0}),t}();l.decorators=[{type:e.Injectable},{type:e.Component,args:[{selector:"[ixImg][path]",template:""}]}],l.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[a]}]},{type:e.ElementRef}]},l.propDecorators={path:[{type:e.Input,args:["path"]}],fixed:[{type:e.Input}],imgixParams:[{type:e.Input,args:["imgixParams"]}],width:[{type:e.Input,args:["width"]}],height:[{type:e.Input}],attributeConfig:[{type:e.Input}],disableVariableQuality:[{type:e.Input}]};var c=function(){};c.decorators=[{type:e.Injectable},{type:e.Component,args:[{selector:"[ixPicture]",template:"<ng-content></ng-content>"}]}];var p=function(){function t(t,e){this.config=t,this.elementRef=e,this._disableVariableQuality=!1,this.client=s(t)}return Object.defineProperty(t.prototype,"disableVariableQuality",{get:function(){return this._disableVariableQuality},set:function(t){this._disableVariableQuality=o(t)},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewChecked=function(){this.setSrcsetAttribute()},t.prototype.buildIxParams=function(){return Object.assign(Object.assign(Object.assign({},this.config.defaultImgixParams),{}),this.imgixParams)},t.prototype.setSrcsetAttribute=function(){var t,e;this.elementRef.nativeElement.setAttribute(null!==(e=null===(t=this.attributeConfig)||void 0===t?void 0:t.srcset)&&void 0!==e?e:"srcset",this.srcsetURL)},Object.defineProperty(t.prototype,"srcsetURL",{get:function(){return this.client.buildSrcSet(this.path,this.buildIxParams(),{disableVariableQuality:this.disableVariableQuality})},enumerable:!1,configurable:!0}),t}();p.decorators=[{type:e.Injectable},{type:e.Component,args:[{selector:"[ixSource][path]",template:""}]}],p.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[a]}]},{type:e.ElementRef}]},p.propDecorators={path:[{type:e.Input,args:["path"]}],imgixParams:[{type:e.Input}],attributeConfig:[{type:e.Input}],disableVariableQuality:[{type:e.Input}]};var f=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[l,p,c,{provide:a,useValue:e}]}},t}();f.decorators=[{type:e.NgModule,args:[{declarations:[l,p,c],exports:[l,p,c]}]}],t.ImgixAngularModule=f,t.IxImgComponent=l,t.IxPictureComponent=c,t.IxSourceComponent=p,t.Éµb=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=imgix-angular.umd.min.js.map